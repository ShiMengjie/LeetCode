# 动态规划-DP

## 基本概念

动态规划（Dynamic Programming, DP）中的Programming 是指“决策”，DP常用于求解最优化问题，这些问题多表现为”多阶段（multistage）决策“；每次决策都依赖于当前状态，每次决策又会引起状态的转移。

### 状态

每个阶段**面临的条件**，同一阶段可能会有不同的状态。

### 决策

对于一个阶段的某个状态，引起状态演变到下个阶段的某个状态所做的选择。

### 边界

决策过程中，状态的初始情况。

### 策略

由每个阶段所做的所有决策组成的序列成为策略，所有可行策略中使得目标达到最佳情况的策略成为最优策略。



在使用DP解决一个问题时，就是在思考如何将这个问题表达成状态（存储哪些数据），以及如何在状态中转移（怎么根据一些数据计算出另一些数据）。

## 适用情况

DP求解的问题，一般都满足以下性质：

**1、最优子结构**

假设问题的最优解所包含的子问题的解也是最优的，就称该问题具有最优子结构，即满足最优化原理。

**2、无后效性**

某阶段的状态一旦确定，就不受这个装填以后决策的影响，某状态以后的过程不会影响曾经的状态。

**3、重叠子问题**

因为“最优子结构”的存在，所以DP会“递归”地求解子问题。如果在使用递归的过程中，反复求解相同的子问题，就称为具有“重叠子问题”性质。DP可以使用数组来保存重叠子问题的解，减少递归函数的调用次数。

## 模板

我们可以按照下面的步骤来解决DP问题：

**1、明确每个阶段的”状态“**

明确每个阶段面临的问题和条件，才能把问题从复杂状态，简化到简单状态。

**2、明确 base case**

明确了“状态“，就可以不断简化“状态”，直到一个“起始状态、边界”。此时，状态就不能再被简化了，这就是问题的 base case，从 base case 开始，可以不断计算出更加复杂的状态。

**3、定义数组**

有了“状态“和”base case“，就需要保存每个”状态“的值，这就需要定一个数组来保存状态值。

**4、明确转移方程**

对于一个简单的状态，怎样才能转移到更加复杂的状态，确定了这个导致“状态变换”的行为，就可以写出“状态转移方程”。



```java
dp[0][0][...]
    
// 初始化 base case
dp[0][0][...] = base

// 进行状态转移
for 状态1 in 状态1的所有取值：
    for 状态2 in 状态2的所有取值：
        for ...
            dp[状态1][状态2][...] = 求最值(选择1，选择2...)
```

## 参考阅读

1、[五大基本算法之动态规划算法 DP](https://houbb.github.io/2020/01/23/data-struct-learn-07-base-dp)

2、[动态规划详解](https://mp.weixin.qq.com/s/Cw39C9MY9Wr2JlcvBQZMcA)

3、[OI & ACM 课件收集整理](http://hzwer.com/9155.html)

