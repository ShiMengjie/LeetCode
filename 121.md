# [121. 买卖股票的最佳时机](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)









```java
class Solution {
    public int maxProfit(int[] prices) {
        int n = prices.length, max = 0;
        int[][] dp = new int[n][n];
        for (int i = 0; i < n; i++) {
            for (int j = i; j < n; j++) {
                dp[i][j] = Math.max(0, prices[j] - prices[i]);
                max = Math.max(dp[i][j], max);
            }
        }
        return max;
    }
}
```

![image-20210809095145623](https://cdn.jsdelivr.net/gh/shimengjie/image-repo/img/image-20210809095145623.png)



```java
class Solution {
    public int maxProfit(int[] prices) {
        int n = prices.length, max = 0;
        int[] dp = new int[n];
        dp[0] = prices[0];
        for (int i = 1; i < n; i++) {
            dp[i] = Math.min(dp[i - 1], prices[i]);
            max = Math.max(prices[i] - dp[i], max);
        }
        return max;
    }
}
```

![image-20210809095159498](https://cdn.jsdelivr.net/gh/shimengjie/image-repo/img/image-20210809095159498.png)



```java
class Solution {
    public int maxProfit(int[] prices) {
        int n = prices.length, max = 0;
        int minPrev = prices[0];
        for (int i = 1; i < n; i++) {
            minPrev = Math.min(minPrev, prices[i]);
            max = Math.max(prices[i] - minPrev, max);
        }
        return max;
    }
}
```

![image-20210809095215249](https://cdn.jsdelivr.net/gh/shimengjie/image-repo/img/image-20210809095215249.png)

```java
class Solution {
    public int maxProfit(int[] prices) {
        int n = prices.length, max = 0;
        int minPrev = prices[0];
        for (int i = 1; i < n; i++) {
            minPrev = minPrev < prices[i] ? minPrev : prices[i];
            max = prices[i] - minPrev > max ? prices[i] - minPrev : max;
        }
        return max;
    }
}
```

![image-20210809095305402](https://cdn.jsdelivr.net/gh/shimengjie/image-repo/img/image-20210809095305402.png)
